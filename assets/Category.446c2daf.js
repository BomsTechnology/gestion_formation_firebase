import{k as W,r as Y,j as d,e as l,a,g as e,f as o,J as x,K as G,H as S,X as V,Y as H,F as $,n as J,m as K,L as X,d as v,o as n,t as j}from"./index.c77e1f43.js";import{u as P}from"./useCategory.a3156acc.js";import{r as Q}from"./TrashIcon.6c044b82.js";import"./ConfirmDeleteModal.204134a5.js";const Z={class:"relative w-full p-8 h-full overflow-x-auto shadow-md sm:rounded-lg"},ee=e("div",{class:"flex justify-between"},[e("h1",{class:"font-bold text-4xl"},"Categories")],-1),te={class:"flex flex-col md:flex-row"},se={class:"w-full"},oe={class:"mt-10 lg:px-10 p-4 bg-white"},le={class:"my-4 font-semibold text-xl"},ne={key:0},re={key:1},ae=K(" Category "),ie=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900"},"Name",-1),ce=["required"],de={class:"mt-4"},ue=e("label",{class:"block mb-2 text-sm font-medium text-gray-900",for:"file_input"},"Upload file",-1),pe={class:"flex justify-end items-center py-2 px-3"},ge={key:0},he={key:1},me={key:0},_e={key:1},fe={class:"w-full"},be={class:"items-center justify-between p-4 lg:flex mt-10"},ye=X('<div class="mt-1 items-center space-y-1 lg:flex lg:space-y-0 lg:space-x-2"><label for="table-search" class="sr-only">Search</label><div class="relative"><div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"><svg class="h-5 w-5 text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg></div><input type="search" id="table-search" class="block w-full rounded border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 lg:w-80" placeholder="Search for items"></div></div>',1),xe={class:"mt-1 flex justify-end lg:mt-0 lg:block"},ve={class:"w-full text-left text-sm text-gray-500 shadow"},we={class:"bg-gray-50 text-xs uppercase text-gray-700"},ke={scope:"col",class:"p-4"},Ce={class:"flex items-center"},Ee=e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox",-1),Ne=e("th",{scope:"col",class:"px-6 py-3"},"Image",-1),Se=e("th",{scope:"col",class:"px-6 py-3"},"Name",-1),Ve=e("th",{scope:"col",class:"px-6 py-3"},"Nb Training",-1),$e=e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Edit")],-1),je={key:0},Ae={colspan:"5",class:"p-8"},De={class:"flex justify-center"},Me={class:"w-4 p-4"},Te={class:"flex items-center"},Ue=["onUpdate:modelValue","onChange"],Be=e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox",-1),Ie={class:"px-6 py-4"},qe={class:"h-10 w-10 overflow-hidden rounded-full"},ze=["src","alt"],Fe={scope:"row",class:"whitespace-nowrap px-6 py-4 font-medium text-gray-900"},Le={scope:"row",class:"whitespace-nowrap px-6 py-4 font-medium text-gray-900"},Oe={class:"px-6 py-4 text-right"},Re=["onClick"],We={key:2},Ye=e("td",{colspan:"4",class:"whitespace-nowrap px-6 py-4 text-2xl text-center font-medium text-gray-900"}," NO CATEGORY ",-1),Ge=[Ye],Qe={__name:"Category",setup(He){const{createCategory:A,updateCategory:D,getCategory:M,category:c,loading:u,errors:w,cleanErrors:k,deleteCategory:T,toogleDeleteArray:U,checkAll:B,getCategories:I,chks:C,chkAll:p,categories:E}=P();W(()=>{I()});const r=Y({name:"",image:""}),i=d(!0),g=d(null),h=d(null),m=d(null),q=async()=>{await A({...r}),g.value.reset(),r.image="",r.name="",h.value=null},z=async _=>{await M(_),r.id=_,r.image=c.value.image,r.name=c.value.name,i.value=!1},F=async()=>{c.value.name=r.name,await D(r.id),g.value.reset(),r.name="",m.value=null,i.value=!0},L=()=>{r.image=h.value.files[0]},O=()=>{c.value.newImage=m.value.files[0]};return(_,s)=>{const R=v("DialogsWrapper"),N=v("Error"),f=v("Spin");return n(),l($,null,[a(R),e("div",Z,[ee,e("div",te,[e("div",se,[e("div",oe,[e("h1",le,[i.value?(n(),l("span",ne,"Add")):(n(),l("span",re,"Edit")),ae]),a(N,{errors:o(w),onCleanErrors:o(k)},null,8,["errors","onCleanErrors"]),e("form",{ref_key:"form",ref:g},[e("div",null,[ie,x(e("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=t=>r.name=t),class:"border border-gray-300 text-gray-900 text-sm rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:i.value},null,8,ce),[[G,r.name]])]),e("div",de,[ue,i.value?(n(),l("input",{key:0,ref_key:"file",ref:h,onChange:s[1]||(s[1]=t=>L()),required:"",class:"block w-full text-sm text-gray-900 p-2 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer focus:outline-none",id:"file_input",type:"file"},null,544)):(n(),l("input",{key:1,ref_key:"Nfile",ref:m,onChange:s[2]||(s[2]=t=>O()),class:"block w-full text-sm text-gray-900 p-2 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer focus:outline-none",id:"file_input",type:"file"},null,544)),e("div",pe,[i.value?(n(),l("button",{key:0,type:"submit",onClick:s[3]||(s[3]=S(t=>q(),["prevent"])),class:"inline-flex items-center py-2.5 px-4 font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 hover:bg-blue-800"},[o(u)==1?(n(),l("span",ge,[a(f)])):(n(),l("span",he,"Save"))])):(n(),l("button",{key:1,type:"submit",onClick:s[4]||(s[4]=S(t=>F(),["prevent"])),class:"inline-flex items-center py-2.5 px-4 font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 hover:bg-blue-800"},[o(u)==1?(n(),l("span",me,[a(f)])):(n(),l("span",_e,"Save"))]))])])],512)])]),e("div",fe,[a(N,{errors:o(w),onCleanErrors:o(k)},null,8,["errors","onCleanErrors"]),e("div",be,[ye,e("div",xe,[e("button",{type:"button",onClick:s[5]||(s[5]=t=>o(T)()),title:"options",class:"flex items-center justify-between space-x-2 rounded border border-red-500 p-2 text-red-500 hover:bg-red-500 hover:text-white"},[a(o(Q),{class:"h-6 w-6"})])])]),e("table",ve,[e("thead",we,[e("tr",null,[e("th",ke,[e("div",Ce,[x(e("input",{onChange:s[6]||(s[6]=t=>o(B)()),"onUpdate:modelValue":s[7]||(s[7]=t=>H(p)?p.value=t:null),id:"checkbox-all-search",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500"},null,544),[[V,o(p)]]),Ee])]),Ne,Se,Ve,$e])]),e("tbody",null,[o(u)==1?(n(),l("tr",je,[e("th",Ae,[e("div",De,[a(f,{color:"text-indigo-500",width:"w-16",height:"h-16"})])])])):o(E).length!=[]?(n(!0),l($,{key:1},J(o(E),(t,b)=>(n(),l("tr",{key:t.id,class:"border-b bg-white hover:bg-gray-50"},[e("td",Me,[e("div",Te,[x(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":y=>o(C)[b].value=y,onChange:y=>o(U)(b),class:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500"},null,40,Ue),[[V,o(C)[b].value]]),Be])]),e("td",Ie,[e("div",qe,[e("img",{src:t.image,alt:t.name},null,8,ze)])]),e("td",Fe,j(t.name.lenght>24?t.name.substring(0,24)+"...":t.name),1),e("td",Le,j(t.nbTraining),1),e("td",Oe,[e("button",{type:"button",onClick:y=>z(t.id),class:"font-medium text-blue-600 hover:underline"}," Edit ",8,Re)])]))),128)):(n(),l("tr",We,Ge))])])])])])],64)}}};export{Qe as default};
